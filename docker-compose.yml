version: '3.8'
services:
  api:
    container_name: api
    image: ghcr.io/volodymyr-oleksiienko/spec-forge-api:${APP_VERSION}
    restart: always
    networks:
      - shared_network
    environment:
      - THC_PATH=/actuator/health/liveness
      - THC_PORT=8080
    healthcheck:
      test: [ "CMD", "/workspace/health-check" ]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

networks:
  shared_network:
    external: true